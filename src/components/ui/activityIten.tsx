import { useAppDispatch, useAppSelector } from "@/app/hooks/reduxHooks";
import { getAllHotels, deleteHotelAtIndex } from "@/slice/hotelSlice";
import { useRouter } from "next/navigation";
import { Button } from "../ui/button";
import { Carousel, CarouselContent, CarouselItem } from "./carousel";
import { deleteDestinationAtIndex, getAllActivities } from "@/slice/destinationSlice";



export const ActivityItineraies = () => {
    const dispatch = useAppDispatch();
    const activities = useAppSelector(getAllActivities)
    
    const router = useRouter();
    console.log(activities);

    const handleDeleteActivity = (index: number)=>{
        dispatch(deleteDestinationAtIndex(index))
    }
    return (
        <div className="bg-[#0054E4] rounded-lg min-h-[300px] w-full p-4">
            <div className="flex justify-between w-full p-4">
                <svg width="112" height="28" viewBox="0 0 112 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22.3018 20.9806C22.0417 21.1268 21.7342 21.1637 21.4469 21.0832C21.1597 21.0027 20.9161 20.8113 20.7699 20.5513L14.3443 9.125H13.1256V9.5C13.1256 9.79837 13.007 10.0845 12.796 10.2955C12.5851 10.5065 12.2989 10.625 12.0006 10.625C11.7022 10.625 11.416 10.5065 11.2051 10.2955C10.9941 10.0845 10.8756 9.79837 10.8756 9.5V9.125H9.6568L3.23118 20.5513C3.15961 20.6816 3.06292 20.7964 2.9467 20.8891C2.83048 20.9818 2.69704 21.0506 2.55408 21.0914C2.41113 21.1322 2.2615 21.1443 2.11385 21.127C1.96619 21.1096 1.82344 21.0632 1.69384 20.9903C1.56424 20.9175 1.45037 20.8197 1.35881 20.7025C1.26724 20.5854 1.1998 20.4513 1.16038 20.308C1.12096 20.1646 1.11035 20.0149 1.12915 19.8674C1.14795 19.7199 1.1958 19.5776 1.26993 19.4487L7.0768 9.125H2.25055C1.95218 9.125 1.66604 9.00647 1.45506 8.7955C1.24408 8.58452 1.12555 8.29837 1.12555 8C1.12555 7.70163 1.24408 7.41548 1.45506 7.2045C1.66604 6.99353 1.95218 6.875 2.25055 6.875H21.7506C22.0489 6.875 22.3351 6.99353 22.546 7.2045C22.757 7.41548 22.8756 7.70163 22.8756 8C22.8756 8.29837 22.757 8.58452 22.546 8.7955C22.3351 9.00647 22.0489 9.125 21.7506 9.125H16.9243L22.7312 19.4487C22.8774 19.7088 22.9143 20.0163 22.8337 20.3036C22.7532 20.5909 22.5619 20.8344 22.3018 20.9806ZM12.0006 12.125C11.7022 12.125 11.416 12.2435 11.2051 12.4545C10.9941 12.6655 10.8756 12.9516 10.8756 13.25V14.75C10.8756 15.0484 10.9941 15.3345 11.2051 15.5455C11.416 15.7565 11.7022 15.875 12.0006 15.875C12.2989 15.875 12.5851 15.7565 12.796 15.5455C13.007 15.3345 13.1256 15.0484 13.1256 14.75V13.25C13.1256 12.9516 13.007 12.6655 12.796 12.4545C12.5851 12.2435 12.2989 12.125 12.0006 12.125ZM12.0006 17.375C11.7022 17.375 11.416 17.4935 11.2051 17.7045C10.9941 17.9155 10.8756 18.2016 10.8756 18.5V20C10.8756 20.2984 10.9941 20.5845 11.2051 20.7955C11.416 21.0065 11.7022 21.125 12.0006 21.125C12.2989 21.125 12.5851 21.0065 12.796 20.7955C13.007 20.5845 13.1256 20.2984 13.1256 20V18.5C13.1256 18.2016 13.007 17.9155 12.796 17.7045C12.5851 17.4935 12.2989 17.375 12.0006 17.375Z" fill="#F9FAFB"/>
                    <path d="M42.946 17.606H37.942L37.114 20H34.468L38.986 7.418H41.92L46.438 20H43.774L42.946 17.606ZM42.262 15.59L40.444 10.334L38.626 15.59H42.262ZM46.7588 15.014C46.7588 13.982 46.9688 13.082 47.3888 12.314C47.8088 11.534 48.3908 10.934 49.1348 10.514C49.8788 10.082 50.7308 9.866 51.6908 9.866C52.9268 9.866 53.9468 10.178 54.7508 10.802C55.5668 11.414 56.1128 12.278 56.3888 13.394H53.6708C53.5268 12.962 53.2808 12.626 52.9328 12.386C52.5968 12.134 52.1768 12.008 51.6728 12.008C50.9528 12.008 50.3828 12.272 49.9628 12.8C49.5428 13.316 49.3328 14.054 49.3328 15.014C49.3328 15.962 49.5428 16.7 49.9628 17.228C50.3828 17.744 50.9528 18.002 51.6728 18.002C52.6928 18.002 53.3588 17.546 53.6708 16.634H56.3888C56.1128 17.714 55.5668 18.572 54.7508 19.208C53.9348 19.844 52.9148 20.162 51.6908 20.162C50.7308 20.162 49.8788 19.952 49.1348 19.532C48.3908 19.1 47.8088 18.5 47.3888 17.732C46.9688 16.952 46.7588 16.046 46.7588 15.014ZM60.4489 12.098V16.922C60.4489 17.258 60.5269 17.504 60.6829 17.66C60.8509 17.804 61.1269 17.876 61.5109 17.876H62.6809V20H61.0969C58.9729 20 57.9109 18.968 57.9109 16.904V12.098H56.7229V10.028H57.9109V7.562H60.4489V10.028H62.6809V12.098H60.4489ZM65.0514 8.84C64.6074 8.84 64.2354 8.702 63.9354 8.426C63.6474 8.138 63.5034 7.784 63.5034 7.364C63.5034 6.944 63.6474 6.596 63.9354 6.32C64.2354 6.032 64.6074 5.888 65.0514 5.888C65.4954 5.888 65.8614 6.032 66.1494 6.32C66.4494 6.596 66.5994 6.944 66.5994 7.364C66.5994 7.784 66.4494 8.138 66.1494 8.426C65.8614 8.702 65.4954 8.84 65.0514 8.84ZM66.2934 10.028V20H63.7734V10.028H66.2934ZM72.2212 17.678L74.7412 10.028H77.4232L73.7332 20H70.6732L67.0012 10.028H69.7012L72.2212 17.678ZM79.3966 8.84C78.9526 8.84 78.5806 8.702 78.2806 8.426C77.9926 8.138 77.8486 7.784 77.8486 7.364C77.8486 6.944 77.9926 6.596 78.2806 6.32C78.5806 6.032 78.9526 5.888 79.3966 5.888C79.8406 5.888 80.2066 6.032 80.4946 6.32C80.7946 6.596 80.9446 6.944 80.9446 7.364C80.9446 7.784 80.7946 8.138 80.4946 8.426C80.2066 8.702 79.8406 8.84 79.3966 8.84ZM80.6386 10.028V20H78.1186V10.028H80.6386ZM85.3423 12.098V16.922C85.3423 17.258 85.4203 17.504 85.5763 17.66C85.7443 17.804 86.0203 17.876 86.4043 17.876H87.5743V20H85.9903C83.8663 20 82.8043 18.968 82.8043 16.904V12.098H81.6163V10.028H82.8043V7.562H85.3423V10.028H87.5743V12.098H85.3423ZM89.9448 8.84C89.5008 8.84 89.1288 8.702 88.8288 8.426C88.5408 8.138 88.3968 7.784 88.3968 7.364C88.3968 6.944 88.5408 6.596 88.8288 6.32C89.1288 6.032 89.5008 5.888 89.9448 5.888C90.3888 5.888 90.7548 6.032 91.0428 6.32C91.3428 6.596 91.4928 6.944 91.4928 7.364C91.4928 7.784 91.3428 8.138 91.0428 8.426C90.7548 8.702 90.3888 8.84 89.9448 8.84ZM91.1868 10.028V20H88.6668V10.028H91.1868ZM102.227 14.798C102.227 15.158 102.203 15.482 102.155 15.77H94.8646C94.9246 16.49 95.1766 17.054 95.6206 17.462C96.0646 17.87 96.6106 18.074 97.2586 18.074C98.1946 18.074 98.8606 17.672 99.2566 16.868H101.975C101.687 17.828 101.135 18.62 100.319 19.244C99.5026 19.856 98.5006 20.162 97.3126 20.162C96.3526 20.162 95.4886 19.952 94.7206 19.532C93.9646 19.1 93.3706 18.494 92.9386 17.714C92.5186 16.934 92.3086 16.034 92.3086 15.014C92.3086 13.982 92.5186 13.076 92.9386 12.296C93.3586 11.516 93.9466 10.916 94.7026 10.496C95.4586 10.076 96.3286 9.866 97.3126 9.866C98.2606 9.866 99.1066 10.07 99.8506 10.478C100.607 10.886 101.189 11.468 101.597 12.224C102.017 12.968 102.227 13.826 102.227 14.798ZM99.6166 14.078C99.6046 13.43 99.3706 12.914 98.9146 12.53C98.4586 12.134 97.9006 11.936 97.2406 11.936C96.6166 11.936 96.0886 12.128 95.6566 12.512C95.2366 12.884 94.9786 13.406 94.8826 14.078H99.6166ZM107.162 20.162C106.346 20.162 105.614 20.018 104.966 19.73C104.318 19.43 103.802 19.028 103.418 18.524C103.046 18.02 102.842 17.462 102.806 16.85H105.344C105.392 17.234 105.578 17.552 105.902 17.804C106.238 18.056 106.652 18.182 107.144 18.182C107.624 18.182 107.996 18.086 108.26 17.894C108.536 17.702 108.674 17.456 108.674 17.156C108.674 16.832 108.506 16.592 108.17 16.436C107.846 16.268 107.324 16.088 106.604 15.896C105.86 15.716 105.248 15.53 104.768 15.338C104.3 15.146 103.892 14.852 103.544 14.456C103.208 14.06 103.04 13.526 103.04 12.854C103.04 12.302 103.196 11.798 103.508 11.342C103.832 10.886 104.288 10.526 104.876 10.262C105.476 9.998 106.178 9.866 106.982 9.866C108.17 9.866 109.118 10.166 109.826 10.766C110.534 11.354 110.924 12.152 110.996 13.16H108.584C108.548 12.764 108.38 12.452 108.08 12.224C107.792 11.984 107.402 11.864 106.91 11.864C106.454 11.864 106.1 11.948 105.848 12.116C105.608 12.284 105.488 12.518 105.488 12.818C105.488 13.154 105.656 13.412 105.992 13.592C106.328 13.76 106.85 13.934 107.558 14.114C108.278 14.294 108.872 14.48 109.34 14.672C109.808 14.864 110.21 15.164 110.546 15.572C110.894 15.968 111.074 16.496 111.086 17.156C111.086 17.732 110.924 18.248 110.6 18.704C110.288 19.16 109.832 19.52 109.232 19.784C108.644 20.036 107.954 20.162 107.162 20.162Z" fill="white"/>
                </svg>
                {activities.length > 0 && (
                    <Button variant={"secondary"} className="w-[153px] text-[#0D6EFD] font-semibold" onClick={()=>router.push("/addAttraction")}>
                        Add Activity 
                    </Button>
                    )}
                </div>
                {activities.length === 0 ? (
                <div className="flex items-center justify-center">
                    <span className="flex flex-col gap-5 text-center text-white mt-10">
                        <p>No Request Yet</p>
                        <Button variant={"secondary"} className="w-[153px] text-black font-semibold" onClick={()=>router.push("/addAttraction")}>Add Activity</Button>
                    </span>
                </div>
            ) : (
                <>
                {activities.map((activity, index) => (
                    <div key={index} className="bg-white mb-10 rounded-md flex justify-between gap-2">
                        <section className="flex">
                            <Carousel className="w-[200px] p-2 flex">
                            <CarouselContent>
                                <CarouselItem key={index}>
                                    <img
                                    src={activity.primaryPhoto.small}
                                    alt="Carousel Slide 2"
                                    className=" w-[200px] h-[200px] object-cover"
                                    />
                                </CarouselItem>
                            </CarouselContent>
                            </Carousel>
                            <div className="flex flex-col p-2 flex-end">
                                <p className="text-[20px] font-semibold">{activity.name}</p>
                                <p className="w-[500px] text-sm mb-5">{activity.shortDescription}</p>

                                <span className="mt-10 flex text-[20px] gap-2 font-semibold">
                                    <p>{activity.representativePrice.currency}</p>
                                    <p>{activity.representativePrice.chargeAmount.toFixed(2)}</p>
                                </span>
                            </div>
                        </section>
                        <div className="w-[50px] min-h-full cursor-pointer flex justify-center items-center bg-[#FBEAE9]" onClick={()=>{handleDeleteActivity(index)}}>
                            x
                        </div>
                    </div>
                ))}
                </>
            )}
        </div>
      
    );
};
